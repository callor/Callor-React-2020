{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/callor/AppData/Roaming/npm/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/callor/AppData/Roaming/npm/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/callor/AppData/Roaming/npm/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, memo, useCallback } from \"react\";\nimport axios from \"axios\";\nvar TextInput = /*#__PURE__*/memo(function (_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange,\n      name = _ref.name,\n      type = _ref.type,\n      className = _ref.className;\n  return /*#__PURE__*/_jsx(\"input\", {\n    type: type,\n    name: name,\n    value: value,\n    required: true,\n    onChange: onChange,\n    className: className\n  });\n});\n\nvar useInput = function useInput() {\n  var initValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var _useState = useState(initValue),\n      value = _useState[0],\n      setter = _useState[1];\n\n  var handler = useCallback(function (e) {\n    setter(e.target.value);\n  }, []);\n  return [value, handler];\n};\n\nvar AuthForm = function AuthForm() {\n  var _useState2 = useState({\n    curriculum: \"\",\n    userName: \"\",\n    email: \"\",\n    phone: \"\"\n  }),\n      authError = _useState2[0],\n      setAuthError = _useState2[1];\n\n  var _useState3 = useState({\n    uerName: \"\",\n    phone: \"\",\n    email: \"\",\n    curriculum: \"NONE\"\n  }),\n      inputBox = _useState3[0],\n      setInputBox = _useState3[1];\n\n  var onChangInputBox = useCallback(function (e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setInputBox(_objectSpread(_objectSpread({}, inputBox), {}, _defineProperty({}, name, value)));\n    var msg = e.target.dataset.msg;\n    setAuthError(_objectSpread(_objectSpread({}, authError), {}, _defineProperty({}, name, value === \"NONE\" || !value ? \"\".concat(msg, \" \\uBC18\\uB4DC\\uC2DC \\uC785\\uB825(\\uC120\\uD0DD) \\uD574\\uC57C \\uD569\\uB2C8\\uB2E4\") : \"\")));\n  }, [inputBox]);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var body_data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(event);\n              event.preventDefault();\n              _context.prev = 2;\n              setAuthError({\n                curriculum: inputBox.curriculum === \"NONE\" ? \"직종을 선택하세요\" : \"\",\n                email: !inputBox.email ? \"E-mail을 입력하세요\" : \"\",\n                userName: !inputBox.userName ? \"이름을 입력하세요\" : \"\",\n                phone: !inputBox.phone ? \"휴대폰 번호를 입력하세요\" : \"\"\n              });\n\n              if (!(inputBox.curriculum === \"NONE\")) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\", false);\n\n            case 6:\n              body_data = {\n                st_curriculum: inputBox.curriculum,\n                st_name: inputBox.userName,\n                st_tel: inputBox.phone,\n                st_email: inputBox.email\n              };\n              console.log(body_data);\n              /**\r\n               * axios를 사용하여 spring api post로 데이터 전송하기\r\n               * 두번째 파라메터를 null로 선언하고\r\n               * params객체에 json 데이터를 담아서 보낸다\r\n               *\r\n               * spring에서는 vo에 데이터를 받으면 된다.\r\n               */\n\n              axios.post(\"https://api.callor.com/student/insert\", null, {\n                params: body_data\n              }).then(function (res) {\n                if (res.data) {\n                  alert(res.data.st_name + \"님 환영합니다!!!\");\n                }\n              }).catch(function (error) {\n                return console.log(error);\n              });\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              alert(_context.t0.message);\n              setAuthError(_context.t0.message);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"authContainer\",\n    children: [/*#__PURE__*/_jsx(\"h3\", {\n      children: \"\\uD55C\\uAD6D\\uACBD\\uC601\\uC6D0 \\uC778\\uC7AC\\uAC1C\\uBC1C\\uC6D0\"\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: onSubmit,\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxs(\"select\", {\n        name: \"curriculum\",\n        \"data-msg\": \"\\uD6C8\\uB828\\uC9C1\\uC885\\uC740\",\n        className: \"authInput\",\n        value: inputBox.curriculum,\n        onChange: onChangInputBox,\n        \"data-size\": \"2\",\n        children: [/*#__PURE__*/_jsx(\"option\", {\n          value: \"NONE\",\n          children: \"\\uD6C8\\uB828\\uC9C1\\uC885\\uC120\\uD0DD\"\n        }), /*#__PURE__*/_jsx(\"option\", {\n          value: \"\\uC751\\uC6A9SW3\\uD68C\\uCC28\",\n          children: \"\\uC751\\uC6A9SW\\uC5D4\\uC9C0\\uB2C8\\uC5B4\\uB9C1 3\\uD68C\\uCC28\"\n        }), /*#__PURE__*/_jsx(\"option\", {\n          value: \"SpringMVC\",\n          children: \"SpringMVC\"\n        }), /*#__PURE__*/_jsx(\"option\", {\n          value: \"Java_Python\",\n          children: \"\\uC790\\uBC14&\\uD30C\\uC774\\uC36C\"\n        })]\n      }), authError.curriculum && /*#__PURE__*/_jsx(\"span\", {\n        className: \"authError\",\n        children: authError.curriculum\n      }), /*#__PURE__*/_jsx(\"input\", {\n        name: \"email\",\n        \"data-msg\": \"\\uC774\\uBA54\\uC77C\\uC740\",\n        type: \"email\",\n        placeholder: \"Email\",\n        value: inputBox.email,\n        onChange: onChangInputBox,\n        className: \"authInput\"\n      }), authError.email && /*#__PURE__*/_jsx(\"span\", {\n        className: \"authError\",\n        children: authError.email\n      }), /*#__PURE__*/_jsx(\"input\", {\n        name: \"userName\",\n        \"data-msg\": \"\\uC774\\uB984\\uC740\",\n        type: \"text\",\n        placeholder: \"\\uC774\\uB984\",\n        value: inputBox.userName,\n        onChange: onChangInputBox,\n        className: \"authInput\"\n      }), authError.userName && /*#__PURE__*/_jsx(\"span\", {\n        className: \"authError\",\n        children: authError.userName\n      }), /*#__PURE__*/_jsx(\"input\", {\n        name: \"phone\",\n        \"data-msg\": \"\\uC804\\uD654\\uBC88\\uD638\\uB294\",\n        type: \"phone\",\n        placeholder: \"010-1111-1111\",\n        value: inputBox.phone,\n        onChange: onChangInputBox,\n        className: \"authInput\"\n      }), authError.phone && /*#__PURE__*/_jsx(\"span\", {\n        className: \"authError\",\n        children: authError.phone\n      }), /*#__PURE__*/_jsx(\"input\", {\n        type: \"submit\",\n        className: \"authInput authSubmit\",\n        value: \"\\uB4F1\\uB85D\\uD558\\uAE30\"\n      })]\n    })]\n  });\n};\n\nexport default AuthForm;","map":null,"metadata":{},"sourceType":"module"}